<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>专利分析可视化</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/v-charts/lib/style.min.css">
</head>
<style>
    .el-header{
        color: #333;
        text-align: center;
        line-height: 100px;
    }
    .el-main {
        background-color: #E9EEF3;
        color: #333;
        text-align: center;
        line-height: 400px;
        margin-left: 20px;
        margin-right: 20px;
    }
</style>
<body>
<el-container id="userlogin">
    <el-header>
        <el-menu
                :default-active="activeIndex2"
                class="el-menu-demo"
                mode="horizontal"
                @select="handleSelect"
                background-color="#545c64"
                text-color="#fff"
                active-text-color="#ffd04b" >
            <el-menu-item index="1">随机展示</el-menu-item>
            <el-menu-item index="2">申请人分析-雷达图</el-menu-item>
            <el-menu-item index="3">前8申请人申请量-折线图</el-menu-item>
            <el-menu-item index="4">高频词-饼图</el-menu-item>
            <el-menu-item index="5">高频词-词云</el-menu-item>
            <el-menu-item index="6">公司数量统计-饼图</el-menu-item>
            <el-menu-item index="7">Top5申请人</el-menu-item>
            <el-menu-item index="8">主体分析-LDA</el-menu-item>
        </el-menu>
    </el-header>
    <el-main>
        <div>
            <ve-chart :data="chartData" :settings="chartSettings"></ve-chart>
        </div>
    </el-main>
</el-container>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/v-charts/lib/index.min.js"></script>

<script>
    new Vue({
        el: '#userlogin',
        data() {
            this.typeArr = ['radar', 'line', 'pie', 'wordcloud', 'pie', 'histogram', 'wordcloud'];
            this.index = 0 ;
            return {
                chartData: {
                    columns: ['日期', '访问用户', '下单用户', '下单率'],
                    rows: [
                        { '日期': '1/1', '访问用户': 1393, '下单用户': 1093, '下单率': 0.32 },
                        { '日期': '1/2', '访问用户': 3530, '下单用户': 3230, '下单率': 0.26 },
                        { '日期': '1/3', '访问用户': 2923, '下单用户': 2623, '下单率': 0.76 },
                        { '日期': '1/4', '访问用户': 1723, '下单用户': 1423, '下单率': 0.49 },
                        { '日期': '1/5', '访问用户': 3792, '下单用户': 3492, '下单率': 0.323 },
                        { '日期': '1/6', '访问用户': 4593, '下单用户': 4293, '下单率': 0.78 }
                    ]
                },
                chartSettings: { type: this.typeArr[this.index] },
                activeIndex: '1',
                activeIndex2: '1',
            };
        },
        methods: {
            handleSelect(key, keyPath) {
                if (key === '1'){ // 随机展示
                    this.index = Math.floor(Math.random() * (7 - 0)) + 0
                }
                else {
                    this.index = key - 2;
                }
                if (this.index >= this.typeArr.length) { this.index = 0}

                if (this.index === 0){ //申请人分析-雷达图
                    // axios.get('/api/雷达图接口')
                    //     .then(function(response) {
                    //         if (response.data.code) {
                    //             this.chartData = response.data.data.chartData
                    //         } else {
                    //             console.log(response.data.message)
                    //         }
                    //     })
                    //     .catch(function(error) {
                    //         console.log(error);
                    //     });
                    this.chartData = {
                        columns: ['日期', '访问用户', '下单用户', '下单率'],
                        rows: [
                            { '日期': '1/1', '访问用户': 1393, '下单用户': 1093, '下单率': 0.32 },
                            { '日期': '1/2', '访问用户': 3530, '下单用户': 3230, '下单率': 0.26 },
                            { '日期': '1/3', '访问用户': 2923, '下单用户': 2623, '下单率': 0.76 },
                            { '日期': '1/4', '访问用户': 1723, '下单用户': 1423, '下单率': 0.49 },
                            { '日期': '1/5', '访问用户': 3792, '下单用户': 3492, '下单率': 0.323 },
                            { '日期': '1/6', '访问用户': 4593, '下单用户': 4293, '下单率': 0.78 }
                        ]
                    };
                    this.chartSettings = { type: this.typeArr[this.index] ,
                        dimension: ['日期'],
                        metrics: ['访问用户', '下单用户', '下单率'],
                        dataType: { '下单率': 'percent' } }
                }
                else if (this.index === 1){ // 前8申请人申请量-折线图
                    this.chartData = {
                        columns: ['日期', '访问用户', '下单用户', '下单率'],
                        rows: [
                            { '日期': '1/1', '访问用户': 1393, '下单用户': 1093, '下单率': 0.32 },
                            { '日期': '1/2', '访问用户': 3530, '下单用户': 3230, '下单率': 0.26 },
                            { '日期': '1/3', '访问用户': 2923, '下单用户': 2623, '下单率': 0.76 },
                            { '日期': '1/4', '访问用户': 1723, '下单用户': 1423, '下单率': 0.49 },
                            { '日期': '1/5', '访问用户': 3792, '下单用户': 3492, '下单率': 0.323 },
                            { '日期': '1/6', '访问用户': 4593, '下单用户': 4293, '下单率': 0.78 },
                            { '日期': '1/7', '访问用户': 4550, '下单用户': 4423, '下单率': 0.40 }
                        ]
                    };
                    this.chartSettings = {

                        type: this.typeArr[this.index],
                    }

                }
                else if (this.index === 2){ // 高频词-饼图
                    this.chartData = {
                        columns: ['高频词', '次数'],
                        rows: [
                            { '高频词': '交易系统', '次数': 155 },
                            { '高频词': '信息安全', '次数': 220 },
                            { '高频词': '电子邮件', '次数': 296 },
                            { '高频词': '广告创意', '次数': 168 },
                            { '高频词': '广告视觉', '次数': 130 },
                            { '高频词': '支付', '次数': 330 },
                            { '高频词': '交互', '次数': 188 },
                            { '高频词': 'Web', '次数': 158 },
                            { '高频词': '用户服务', '次数': 292},
                            { '高频词': '图像捕获', '次数': 214},
                        ]
                    };
                    this.chartSettings = {
                        type: this.typeArr[this.index],
                        roseType: 'radius',
                    }
                }
                else if (this.index === 3) { // 高频词-词云
                    this.chartData = {
                        columns: ['word', 'count'],
                        rows: [{
                            'word': 'visualMap',
                            'count': 22199
                        }, {
                            'word': 'continuous',
                            'count': 10288
                        }, {
                            'word': 'contoller',
                            'count': 620
                        }, {
                            'word': 'series',
                            'count': 274470
                        }, {
                            'word': 'gauge',
                            'count': 12311
                        }, {
                            'word': 'detail',
                            'count': 1206
                        }, {
                            'word': 'piecewise',
                            'count': 4885
                        }, {
                            'word': 'textStyle',
                            'count': 32294
                        }, {
                            'word': 'markPoint',
                            'count': 18574
                        }, {
                            'word': 'pie',
                            'count': 38929
                        }, {
                            'word': 'roseType',
                            'count': 969
                        }, {
                            'word': 'label',
                            'count': 37517
                        }, {
                            'word': 'emphasis',
                            'count': 12053
                        }, {
                            'word': 'yAxis',
                            'count': 57299
                        }, {
                            'word': 'name',
                            'count': 15418
                        }, {
                            'word': 'type',
                            'count': 22905
                        }, {
                            'word': 'gridIndex',
                            'count': 5146
                        }, {
                            'word': 'normal',
                            'count': 49487
                        }, {
                            'word': 'itemStyle',
                            'count': 33837
                        }, {
                            'word': 'min',
                            'count': 4500
                        }, {
                            'word': 'silent',
                            'count': 5744
                        }, {
                            'word': 'animation',
                            'count': 4840
                        }, {
                            'word': 'offsetCenter',
                            'count': 232
                        }, {
                            'word': 'inverse',
                            'count': 3706
                        }, {
                            'word': 'borderColor',
                            'count': 4812
                        }, {
                            'word': 'markLine',
                            'count': 16578
                        }, {
                            'word': 'line',
                            'count': 76970
                        }, {
                            'word': 'radiusAxis',
                            'count': 6704
                        }, {
                            'word': 'radar',
                            'count': 15964
                        }, {
                            'word': 'data',
                            'count': 60679
                        }, {
                            'word': 'dataZoom',
                            'count': 24347
                        }, {
                            'word': 'tooltip',
                            'count': 43420
                        }, {
                            'word': 'toolbox',
                            'count': 25222
                        }, {
                            'word': 'geo',
                            'count': 16904
                        }, {
                            'word': 'parallelAxis',
                            'count': 4029
                        }]
                    };
                    this.chartSettings = { type: this.typeArr[this.index] }

                }
                else if (this.index === 4) { // 公司数量统计-饼图
                    this.chartData = {
                        columns: ['日期', '访问用户'],
                        rows: [
                            { '日期': '1/1', '访问用户': 1393 },
                            { '日期': '1/2', '访问用户': 3530 },
                            { '日期': '1/3', '访问用户': 2923 },
                            { '日期': '1/4', '访问用户': 1723 },
                            { '日期': '1/5', '访问用户': 3792 },
                            { '日期': '1/6', '访问用户': 4593 },
                            { '日期': '1/7', '访问用户': 4765 },
                            { '日期': '1/8', '访问用户': 4265 },
                        ]
                    }

                }
                else if (this.index === 5) { // top5申请人-柱状图
                    this.chartData = {
                        columns: ['日期', '访问用户', '下单用户', '下单率'],
                        rows: [
                            { '日期': '1/1', '访问用户': 1393, '下单用户': 1093, '下单率': 0.32 },
                            { '日期': '1/2', '访问用户': 3530, '下单用户': 3230, '下单率': 0.26 },
                            { '日期': '1/3', '访问用户': 2923, '下单用户': 2623, '下单率': 0.76 },
                            { '日期': '1/4', '访问用户': 1723, '下单用户': 1423, '下单率': 0.49 },
                            { '日期': '1/5', '访问用户': 3792, '下单用户': 3492, '下单率': 0.323 },
                            { '日期': '1/6', '访问用户': 4593, '下单用户': 4293, '下单率': 0.78 }
                        ]
                    };
                    this.chartSettings = { type: this.typeArr[this.index] }

                }
                else if (this.index === 6) { // 主体分析-词云
                    this.chartData = {
                        columns: ['word', 'count'],
                        rows: [{
                            'word': 'visualMap',
                            'count': 22199
                        }, {
                            'word': 'continuous',
                            'count': 10288
                        }, {
                            'word': 'contoller',
                            'count': 620
                        }, {
                            'word': 'series',
                            'count': 274470
                        }, {
                            'word': 'gauge',
                            'count': 12311
                        }, {
                            'word': 'detail',
                            'count': 1206
                        }, {
                            'word': 'piecewise',
                            'count': 4885
                        }, {
                            'word': 'textStyle',
                            'count': 32294
                        }, {
                            'word': 'markPoint',
                            'count': 18574
                        }, {
                            'word': 'pie',
                            'count': 38929
                        }, {
                            'word': 'roseType',
                            'count': 969
                        }, {
                            'word': 'label',
                            'count': 37517
                        }, {
                            'word': 'emphasis',
                            'count': 12053
                        }, {
                            'word': 'yAxis',
                            'count': 57299
                        }, {
                            'word': 'name',
                            'count': 15418
                        }, {
                            'word': 'type',
                            'count': 22905
                        }, {
                            'word': 'gridIndex',
                            'count': 5146
                        }, {
                            'word': 'normal',
                            'count': 49487
                        }, {
                            'word': 'itemStyle',
                            'count': 33837
                        }, {
                            'word': 'min',
                            'count': 4500
                        }, {
                            'word': 'silent',
                            'count': 5744
                        }, {
                            'word': 'animation',
                            'count': 4840
                        }, {
                            'word': 'offsetCenter',
                            'count': 232
                        }, {
                            'word': 'inverse',
                            'count': 3706
                        }, {
                            'word': 'borderColor',
                            'count': 4812
                        }, {
                            'word': 'markLine',
                            'count': 16578
                        }, {
                            'word': 'line',
                            'count': 76970
                        }, {
                            'word': 'radiusAxis',
                            'count': 6704
                        }, {
                            'word': 'radar',
                            'count': 15964
                        }, {
                            'word': 'data',
                            'count': 60679
                        }, {
                            'word': 'dataZoom',
                            'count': 24347
                        }, {
                            'word': 'tooltip',
                            'count': 43420
                        }, {
                            'word': 'toolbox',
                            'count': 25222
                        }, {
                            'word': 'geo',
                            'count': 16904
                        }, {
                            'word': 'parallelAxis',
                            'count': 4029
                        }]
                    };
                    this.chartSettings = { type: this.typeArr[this.index] }
                }

            }
        }
    })
</script>
</body>
</html>
